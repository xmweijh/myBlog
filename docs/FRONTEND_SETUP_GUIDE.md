# ğŸ¨ å‰ç«¯å¼€å‘æŒ‡å— - åŸºç¡€è®¾ç½®å®Œæˆ
> MyBlog å‰ç«¯é¡¹ç›®åŸºç¡€è®¾ç½®å®Œæˆï¼ŒåŒ…å«APIæœåŠ¡å±‚ã€çŠ¶æ€ç®¡ç†ã€ç™»å½•é¡µé¢ç­‰æ ¸å¿ƒåŠŸèƒ½

---

## ğŸ‰ å®Œæˆæˆæœ

### âœ… å·²å®ç°çš„åŠŸèƒ½

#### 1. **APIæœåŠ¡å±‚** âœ…
- åŸºç¡€APIå®¢æˆ·ç«¯é…ç½®ï¼ˆaxiosï¼‰
- è¯·æ±‚/å“åº”æ‹¦æˆªå™¨
- è‡ªåŠ¨ä»¤ç‰Œç®¡ç†
- é”™è¯¯å¤„ç†å’Œ401é‡å®šå‘

#### 2. **è®¤è¯æœåŠ¡** âœ…
- ç”¨æˆ·æ³¨å†Œ
- ç”¨æˆ·ç™»å½•
- è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- æ›´æ–°ç”¨æˆ·èµ„æ–™
- ä¿®æ”¹å¯†ç 
- ç”¨æˆ·ç™»å‡º

#### 3. **æ–‡ç« æœåŠ¡** âœ…
- è·å–æ–‡ç« åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€ç­›é€‰ï¼‰
- è·å–æ–‡ç« è¯¦æƒ…
- åˆ›å»ºæ–‡ç« 
- æ›´æ–°æ–‡ç« 
- åˆ é™¤æ–‡ç« 
- è·å–ç”¨æˆ·æ–‡ç« åˆ—è¡¨

#### 4. **åˆ†ç±»å’Œæ ‡ç­¾æœåŠ¡** âœ…
- è·å–åˆ†ç±»åˆ—è¡¨
- è·å–åˆ†ç±»è¯¦æƒ…
- åˆ›å»º/æ›´æ–°/åˆ é™¤åˆ†ç±»ï¼ˆä»…ç®¡ç†å‘˜ï¼‰
- è·å–æ ‡ç­¾åˆ—è¡¨
- è·å–æ ‡ç­¾è¯¦æƒ…
- åˆ›å»º/æ›´æ–°/åˆ é™¤æ ‡ç­¾ï¼ˆä»…ç®¡ç†å‘˜ï¼‰

#### 5. **è¯„è®ºæœåŠ¡** âœ…
- è·å–æ–‡ç« è¯„è®ºåˆ—è¡¨
- è·å–è¯„è®ºè¯¦æƒ…
- åˆ›å»ºè¯„è®ºï¼ˆæ”¯æŒå›å¤ï¼‰
- æ›´æ–°è¯„è®º
- åˆ é™¤è¯„è®º

#### 6. **çŠ¶æ€ç®¡ç†** âœ…
- Zustand çŠ¶æ€ç®¡ç†
- ç”¨æˆ·è®¤è¯çŠ¶æ€
- æœ¬åœ°å­˜å‚¨æŒä¹…åŒ–
- è‡ªåŠ¨æ¢å¤è®¤è¯ä¿¡æ¯

#### 7. **ç™»å½•é¡µé¢** âœ…
- é‚®ç®±/å¯†ç ç™»å½•
- è¡¨å•éªŒè¯
- é”™è¯¯æç¤º
- æ³¨å†Œé“¾æ¥
- æµ‹è¯•è´¦å·æç¤º

#### 8. **å¯¼èˆªæ æ”¹è¿›** âœ…
- å“åº”å¼å¯¼èˆªæ 
- ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
- ç™»å½•/ç™»å‡ºæŒ‰é’®
- ç”¨æˆ·å¤´åƒæ˜¾ç¤º

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
frontend/src/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ api.ts                 âœ… APIå®¢æˆ·ç«¯é…ç½®
â”‚   â”œâ”€â”€ authService.ts         âœ… è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ articleService.ts      âœ… æ–‡ç« æœåŠ¡
â”‚   â”œâ”€â”€ categoryTagService.ts  âœ… åˆ†ç±»æ ‡ç­¾æœåŠ¡
â”‚   â””â”€â”€ commentService.ts      âœ… è¯„è®ºæœåŠ¡
â”œâ”€â”€ stores/
â”‚   â””â”€â”€ authStore.ts           âœ… è®¤è¯çŠ¶æ€ç®¡ç†
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ HomePage.tsx           âœ… é¦–é¡µ
â”‚   â”œâ”€â”€ AboutPage.tsx          âœ… å…³äºé¡µé¢
â”‚   â”œâ”€â”€ LoginPage.tsx          âœ… ç™»å½•é¡µé¢
â”‚   â””â”€â”€ NotFoundPage.tsx       âœ… 404é¡µé¢
â”œâ”€â”€ components/                â³ å¾…å¼€å‘
â”œâ”€â”€ hooks/                     â³ å¾…å¼€å‘
â”œâ”€â”€ types/                     â³ å¾…å¼€å‘
â”œâ”€â”€ utils/                     â³ å¾…å¼€å‘
â”œâ”€â”€ App.tsx                    âœ… ä¸»åº”ç”¨
â””â”€â”€ main.tsx                   âœ… å…¥å£æ–‡ä»¶
```

---

## ğŸ”§ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒåº“

- **React 18** - UIæ¡†æ¶
- **React Router v6** - è·¯ç”±ç®¡ç†
- **Zustand** - çŠ¶æ€ç®¡ç†
- **Axios** - HTTPå®¢æˆ·ç«¯
- **React Query** - æ•°æ®è·å–å’Œç¼“å­˜
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨

### å¼€å‘å·¥å…·

- **Vite** - æ„å»ºå·¥å…·
- **Prettier** - ä»£ç æ ¼å¼åŒ–
- **ESLint** - ä»£ç æ£€æŸ¥

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd frontend
npm install
# æˆ–
pnpm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
VITE_API_URL=http://localhost:3001
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
# æˆ–
pnpm dev
```

è®¿é—® `http://localhost:5173`

### 4. æµ‹è¯•ç™»å½•

ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•ï¼š
- é‚®ç®±: `admin@myblog.com`
- å¯†ç : `admin123456`

---

## ğŸ“ APIæœåŠ¡ä½¿ç”¨ç¤ºä¾‹

### è®¤è¯æœåŠ¡

```typescript
import { login, register, getCurrentUser, logout } from '@/services/authService'

// ç”¨æˆ·ç™»å½•
const response = await login({
  email: 'user@example.com',
  password: 'password123'
})

// è·å–å½“å‰ç”¨æˆ·
const user = await getCurrentUser()

// ç”¨æˆ·ç™»å‡º
logout()
```

### æ–‡ç« æœåŠ¡

```typescript
import { getArticles, getArticle, createArticle } from '@/services/articleService'

// è·å–æ–‡ç« åˆ—è¡¨
const articles = await getArticles({
  page: 1,
  limit: 10,
  search: 'React'
})

// è·å–æ–‡ç« è¯¦æƒ…
const article = await getArticle('article-id')

// åˆ›å»ºæ–‡ç« 
const newArticle = await createArticle({
  title: 'æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« ',
  slug: 'my-first-article',
  content: 'æ–‡ç« å†…å®¹...',
  categoryId: 'category-id'
})
```

### çŠ¶æ€ç®¡ç†

```typescript
import { useAuthStore } from '@/stores/authStore'

function MyComponent() {
  const { user, isAuthenticated, setAuth, clearAuth } = useAuthStore()

  return (
    <div>
      {isAuthenticated ? (
        <p>æ¬¢è¿, {user?.username}!</p>
      ) : (
        <p>è¯·ç™»å½•</p>
      )}
    </div>
  )
}
```

---

## ğŸ¨ UIç»„ä»¶åº“

### å·²ä½¿ç”¨çš„Tailwind CSSç±»

- å“åº”å¼å¸ƒå±€
- æ¸å˜èƒŒæ™¯
- é˜´å½±æ•ˆæœ
- è¿‡æ¸¡åŠ¨ç”»
- è¡¨å•æ ·å¼
- æŒ‰é’®æ ·å¼

### é¢œè‰²æ–¹æ¡ˆ

- ä¸»è‰²: è“è‰² (`blue-600`)
- æ¬¡è‰²: ç°è‰² (`gray-600`)
- æˆåŠŸ: ç»¿è‰² (`green-600`)
- è­¦å‘Š: é»„è‰² (`yellow-600`)
- é”™è¯¯: çº¢è‰² (`red-600`)

---

## ğŸ” è®¤è¯æµç¨‹

### ç™»å½•æµç¨‹

```
1. ç”¨æˆ·è¾“å…¥é‚®ç®±å’Œå¯†ç 
   â†“
2. è°ƒç”¨ login() API
   â†“
3. åç«¯éªŒè¯å¹¶è¿”å›ç”¨æˆ·ä¿¡æ¯å’Œä»¤ç‰Œ
   â†“
4. ä½¿ç”¨ setAuth() ä¿å­˜åˆ°çŠ¶æ€ç®¡ç†
   â†“
5. ä»¤ç‰Œè‡ªåŠ¨ä¿å­˜åˆ° localStorage
   â†“
6. é‡å®šå‘åˆ°é¦–é¡µ
```

### è¯·æ±‚æ‹¦æˆª

```
æ¯ä¸ªAPIè¯·æ±‚
   â†“
æ£€æŸ¥ localStorage ä¸­çš„ä»¤ç‰Œ
   â†“
å¦‚æœå­˜åœ¨ï¼Œæ·»åŠ åˆ° Authorization å¤´
   â†“
å‘é€è¯·æ±‚
```

### å“åº”å¤„ç†

```
æ”¶åˆ°å“åº”
   â†“
å¦‚æœçŠ¶æ€ç ä¸º 401
   â†“
æ¸…é™¤ä»¤ç‰Œå’Œç”¨æˆ·ä¿¡æ¯
   â†“
é‡å®šå‘åˆ°ç™»å½•é¡µé¢
```

---

## ğŸ“Š çŠ¶æ€ç®¡ç†ç»“æ„

### AuthStore

```typescript
interface AuthState {
  user: User | null              // å½“å‰ç”¨æˆ·ä¿¡æ¯
  token: string | null           // JWTä»¤ç‰Œ
  isAuthenticated: boolean       // æ˜¯å¦å·²è®¤è¯
  isLoading: boolean            // åŠ è½½çŠ¶æ€
  error: string | null          // é”™è¯¯ä¿¡æ¯

  // æ–¹æ³•
  setAuth(user, token)          // è®¾ç½®è®¤è¯ä¿¡æ¯
  clearAuth()                   // æ¸…é™¤è®¤è¯ä¿¡æ¯
  updateUser(user)              // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
  setLoading(loading)           // è®¾ç½®åŠ è½½çŠ¶æ€
  setError(error)               // è®¾ç½®é”™è¯¯ä¿¡æ¯
  restoreAuth()                 // ä»æœ¬åœ°å­˜å‚¨æ¢å¤
}
```

---

## ğŸ§ª æµ‹è¯•è´¦å·

### ç®¡ç†å‘˜è´¦å·

```
é‚®ç®±: admin@myblog.com
å¯†ç : admin123456
è§’è‰²: ADMIN
```

### æ™®é€šç”¨æˆ·è´¦å·

```
é‚®ç®±: user@example.com
å¯†ç : user123456
è§’è‰²: USER
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### å³å°†å¼€å‘

1. **æ–‡ç« åˆ—è¡¨é¡µé¢** ğŸš§
   - æ–‡ç« å¡ç‰‡ç»„ä»¶
   - åˆ†é¡µç»„ä»¶
   - æœç´¢å’Œç­›é€‰
   - æ’åºåŠŸèƒ½

2. **æ–‡ç« è¯¦æƒ…é¡µé¢** â³
   - æ–‡ç« å†…å®¹å±•ç¤º
   - è¯„è®ºåˆ—è¡¨
   - è¯„è®ºè¡¨å•
   - ç‚¹èµåŠŸèƒ½

3. **ç”¨æˆ·èµ„æ–™é¡µé¢** â³
   - ç”¨æˆ·ä¿¡æ¯å±•ç¤º
   - ç”¨æˆ·æ–‡ç« åˆ—è¡¨
   - ç¼–è¾‘èµ„æ–™åŠŸèƒ½

4. **ç®¡ç†åå°** â³
   - æ–‡ç« ç®¡ç†
   - åˆ†ç±»ç®¡ç†
   - æ ‡ç­¾ç®¡ç†
   - ç”¨æˆ·ç®¡ç†

5. **æ³¨å†Œé¡µé¢** â³
   - æ³¨å†Œè¡¨å•
   - è¡¨å•éªŒè¯
   - é‚®ç®±éªŒè¯

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é”™è¯¯å¤„ç†

```typescript
try {
  const response = await login(formData)
  // å¤„ç†æˆåŠŸ
} catch (error) {
  const message = error instanceof Error ? error.message : 'è¯·æ±‚å¤±è´¥'
  // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
}
```

### 2. åŠ è½½çŠ¶æ€

```typescript
const [isLoading, setIsLoading] = useState(false)

const handleSubmit = async () => {
  setIsLoading(true)
  try {
    // æ‰§è¡Œæ“ä½œ
  } finally {
    setIsLoading(false)
  }
}
```

### 3. æ¡ä»¶æ¸²æŸ“

```typescript
{isAuthenticated && user ? (
  <UserMenu user={user} />
) : (
  <LoginButton />
)}
```

### 4. ç±»å‹å®‰å…¨

```typescript
import { User, Article } from '@/services/articleService'

const user: User = { /* ... */ }
const article: Article = { /* ... */ }
```

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [åç«¯APIå®Œæˆæ€»ç»“](./BACKEND_API_COMPLETION_SUMMARY.md)
- [è®¤è¯ç³»ç»ŸæŒ‡å—](./AUTH_SYSTEM_GUIDE.md)
- [æ–‡ç« APIæŒ‡å—](./ARTICLE_API_GUIDE.md)
- [é¡¹ç›®å®æ–½è®¡åˆ’](../IMPLEMENTATION_PLAN.md)

---

## ğŸ“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„APIæœåŠ¡ï¼Ÿ

A: åœ¨ `services/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶ï¼Œå¯¼å…¥ `apiClient`ï¼Œå®šä¹‰æ¥å£å’Œå‡½æ•°ã€‚

### Q: å¦‚ä½•åœ¨ç»„ä»¶ä¸­ä½¿ç”¨è®¤è¯çŠ¶æ€ï¼Ÿ

A: ä½¿ç”¨ `useAuthStore()` hook è·å–çŠ¶æ€å’Œæ–¹æ³•ã€‚

### Q: å¦‚ä½•å¤„ç†APIé”™è¯¯ï¼Ÿ

A: ä½¿ç”¨ try-catch æ•è·é”™è¯¯ï¼Œé”™è¯¯ä¼šè‡ªåŠ¨é€šè¿‡æ‹¦æˆªå™¨å¤„ç†ã€‚

### Q: å¦‚ä½•é…ç½®APIåœ°å€ï¼Ÿ

A: åœ¨ `.env.local` ä¸­è®¾ç½® `VITE_API_URL` ç¯å¢ƒå˜é‡ã€‚

---

*ğŸ¨ å‰ç«¯åŸºç¡€è®¾ç½®å®Œæˆï¼ç°åœ¨å¯ä»¥å¼€å§‹å¼€å‘å„ä¸ªé¡µé¢äº†ï¼*
